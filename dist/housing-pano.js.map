{"version":3,"sources":["housing-pano.js"],"names":["modules","installedModules","__webpack_require__","moduleId","exports","module","id","loaded","call","m","c","p","DirectPano","show_pano","pano_div_id","image_div_id","image","root","document","getElementById","style","visibility","Hotspot","init","hotspots_angle","Transition","pano_path","add_hotspots","this","keyMax","keySpeed","onPointerDownLat","onPointerDownLon","onPointerDownPointerX","onPointerDownPointerY","on_key_down","on_key_up","on_mouse_down","on_mouse_move","on_mouse_up","on_mouse_wheel","touch_handler","event","first","simulatedEvent","touches","type","changedTouches","createEvent","initMouseEvent","window","screenX","screenY","clientX","clientY","target","dispatchEvent","preventDefault","container","intersects","vector","Config","isUserInteracting","lon","lat","THREE","Vector3","set","offsetWidth","offsetHeight","unproject","camera","raycaster","position","sub","normalize","intersectObjects","scene","children","length","object","name","start","hotspot_id","mouseSpeed","stop_time","Date","now","autoplay","wheelDeltaY","fov","wheelDelta","detail","Math","max","min","updateProjectionMatrix","keyPressed","near_id","keyCode","moving","front_nearest_hotspot","current_pano","back_nearest_hotspot","$","on","click","focus","mousedown","mousemove","mouseup","mousewheel","originalEvent","DOMMouseScroll","touchstart","touchmove","touchend","keydown","keyup","pano","pano_num","path","clear_pano1","clear_pano2","clear_images","blur_pano","Pano","create_pano","clear_pano","preload_images","save_clear_images","i","image_index","texture","Texture","texture_placeholder","Image","onload","needsUpdate","src","img_name","hotspot_angles","j","pano_id","blur_images","complete","blur_pano_to_new_pano","check_new_pano_load","dist","find_rotation_angle","hotspot_angle","load_blur_pano","load_clear_pano","old_pano_to_blur_pano","rotate_angle","dfrd","Deferred","mesh","material","materials","map","dispose","get_texture","opacity","x","cos","degToRad","z","sin","when","done","promise","del","time","time1","TweenLite","to","ease","Power0","easeOut","delay","Expo","onComplete","onCompleteParams","remove_hotspots","panoid","load_texture","MeshBasicMaterial","overdraw","side","DoubleSide","blending","AdditiveBlending","depthTest","add_hotspot","angle","hotspotId","geometry","hotspot","rad_angle","v","PlaneBufferGeometry","Mesh","y","lookAt","add","num_hotspots","len","remove","flag","near_angle","temp","abs","pano_id1","is_blur","prototype","push","webgl","BoxGeometry","MeshFaceMaterial","scale","transparent","resolve","animate","detect_webgl","go_fullscreen","renderer","rotate_camera","update","Raycaster","width","innerWidth","height","innerHeight","setSize","aspect","canvas","e","createElement","WebGLRenderingContext","getContext","_error","Scene","WebGLRenderer","CanvasRenderer","setPixelRatio","devicePixelRatio","console","log","appendChild","domElement","PerspectiveCamera","requestAnimationFrame","duration","phi","theta","render","onclick"],"mappings":"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"}