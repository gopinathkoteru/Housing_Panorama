{"version":3,"sources":["housing-pano.js"],"names":["modules","installedModules","__webpack_require__","moduleId","exports","module","id","loaded","call","m","c","p","anim","root","DirectPano","show_pano","image","$","image_div_id","css","visibility","Annotation","annotation","annotation_angles","add_annotations","scene","children","length","add_listeners","Hotspot","hotspot","hotspots_angle","Transition","transition","pano","add_hotspots","animation","remove_pano","destroy","remove_listeners","destroy_hotspot","destroy_transition","destroy_annotation","this","onPointerDownLat","onPointerDownLon","onPointerDownPointerX","onPointerDownPointerY","on_key_down","on_key_up","on_mouse_down","on_mouse_move","on_mouse_up","on_mouse_wheel","touch_handler","event","first","simulatedEvent","touches","type","changedTouches","document","createEvent","initMouseEvent","window","screenX","screenY","clientX","clientY","target","dispatchEvent","preventDefault","container","intersects","vector","Config","current_lon","lon","target_lon","current_lat","lat","target_lat","isUserInteracting","THREE","Vector3","pano_div_id","set","outerWidth","outerHeight","unproject","camera","raycaster","position","sub","normalize","intersectObjects","object","name","start","hotspot_id","mouseSpeed","stop_time","Date","now","autoplay","wheelDeltaY","fov","wheelDelta","detail","Math","max","min","updateProjectionMatrix","keyPressed","near_id","keyCode","moving","front_nearest_hotspot","current_pano","back_nearest_hotspot","width","innerWidth","height","innerHeight","escape_fullscreen","on","click","focus","mousedown","mousemove","mouseup","mousewheel","originalEvent","DOMMouseScroll","touchstart","touchmove","touchend","keydown","keyup","off","hotspot_angles","path","clear_images","blur_images","blur_pano","Pano","clear_pano","create_pano","preload_images","prototype","save_clear_images","i","image_index","texture","Texture","texture_placeholder","Image","onload","needsUpdate","src","img_name","fpath","j","pano_id","dist","hotspot_angle","old_pano_to_blur_pano","rotate_angle","find_rotation_angle","remove_hotspots","remove_annotations","bind","load_blur_pano","done","dfrd","when","promise","Deferred","mesh","material","materials","map","dispose","get_texture","opacity","x","cos","degToRad","z","sin","apply","load_clear_pano","del","time","time1","TweenLite","to","ease","Power0","easeOut","delay","Expo","onComplete","check_new_pano_load","blur_pano_to_new_pano","complete","alter_moving","killTweensOf","destroy_pano","content","panoid","add_annotation","annotation_id","anno_id","div","prepend","append","find","_error","remove","update","angle","pos","rad_angle","project","y","removeAttr","font-family","load_texture","MeshBasicMaterial","overdraw","side","DoubleSide","depthTest","depthWrite","transparent","add_hotspot","hotspotId","geometry","text","text_to_show","v","PlaneBufferGeometry","Mesh","renderOrder","lookAt","deg_angle","html","add","resolve","num_hotspots","len","flag","near_angle","temp","abs","clone","display","left","top","transform","text-align","color","margin-left","pano_id1","is_blur","push","webgl","BoxGeometry","MeshFaceMaterial","scale","blending","AdditiveBlending","animate","duration","requestAnimationFrame","phi","theta","renderer","render","active","detect_webgl","go_fullscreen","init","Raycaster","setSize","aspect","initial_width","initial_height","canvas","e","WebGLRenderingContext","getContext","Scene","WebGLRenderer","CanvasRenderer","setPixelRatio","devicePixelRatio","domElement","PerspectiveCamera","len1","prop"],"mappings":"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"}