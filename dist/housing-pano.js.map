{"version":3,"sources":["housing-pano.js"],"names":["modules","installedModules","__webpack_require__","moduleId","exports","module","id","loaded","call","m","c","p","anim","root","DirectPano","show_pano","image","$","start_image_div_id","attr","image_div_id","css","visibility","Annotation","annotation","annotation_angles","add_annotations","scene","children","length","add_listeners","Hotspot","hotspot","hotspots_angle","Transition","transition","pano","add_hotspots","animation","Config","isUserInteracting","remove_pano","destroy","remove_listeners","destroy_hotspot","destroy_transition","destroy_annotation","this","onPointerDownLat","onPointerDownLon","onPointerDownPointerX","onPointerDownPointerY","on_key_down","on_key_up","on_mouse_down","on_mouse_move","on_mouse_up","on_mouse_wheel","touch_handler","event","first","simulatedEvent","touches","type","changedTouches","document","createEvent","initMouseEvent","window","screenX","screenY","clientX","clientY","target","dispatchEvent","preventDefault","container","intersects","vector","current_lon","lon","target_lon","current_lat","lat","target_lat","THREE","Vector3","pano_div_id","set","outerWidth","outerHeight","unproject","camera","raycaster","position","sub","normalize","intersectObjects","object","name","start","hotspot_id","mouseSpeed","stop_time","Date","now","autoplay","wheelDeltaY","fov","wheelDelta","detail","Math","max","min","updateProjectionMatrix","keyPressed","near_id","keyCode","moving","front_nearest_hotspot","current_pano","back_nearest_hotspot","width","innerWidth","height","innerHeight","escape_fullscreen","on","click","focus","mousedown","mousemove","mouseup","mousewheel","originalEvent","DOMMouseScroll","touchstart","touchmove","touchend","keydown","keyup","off","hotspot_angles","path","clear_images","blur_images","blur_pano","Pano","clear_pano","create_pano","done","time","fadeTo","preload_images","prototype","save_clear_images","i","image_index","j","texture","Texture","texture_placeholder","offset","Image","onload","needsUpdate","replace","img_name","parseInt","src","pano_id","k","fpath","panoId","dist","error","hotspot_angle","old_pano_to_blur_pano","rotate_angle","find_rotation_angle","remove_hotspots","remove_annotations","bind","load_blur_pano","dfrd","when","promise","Deferred","mesh","material","map","dispose","get_texture","opacity","rotation","y","degToRad","x","cos","z","sin","apply","load_clear_pano","del","time1","TweenLite","to","ease","Power0","easeOut","delay","Expo","onComplete","check_new_pano_load","onCompleteParams","blur_pano_to_new_pano","complete","alter_moving","killTweensOf","destroy_pano","content","panoid","add_annotation","annotation_id","anno_id","div","prepend","append","find","hover","_error","remove","update","angle","pos","rad_angle","project","removeAttr","font-family","load_texture","MeshBasicMaterial","overdraw","side","DoubleSide","depthTest","depthWrite","transparent","add_hotspot","hotspotId","geometry","text","text_to_show","v","PlaneBufferGeometry","Mesh","renderOrder","lookAt","deg_angle","html","add","resolve","num_hotspots","len","flag","near_angle","temp","abs","clone","display","left","top","transform","text-align","color","margin-left","sides","PI","pano_id1","is_blur","path1","slice","slices","Object3D","console","log","webgl","PlaneGeometry","updateMatrix","results","push","blending","AdditiveBlending","animate","duration","requestAnimationFrame","phi","theta","renderer","render","active","detect_webgl","go_fullscreen","init","is_fullscreen","Raycaster","setSize","aspect","initial_width","initial_height","canvas","e","WebGLRenderingContext","getContext","panos_list","Scene","WebGLRenderer","CanvasRenderer","setPixelRatio","devicePixelRatio","domElement","PerspectiveCamera","removeClass","className","getAttribute","len1","prop","resize"],"mappings":"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"}