{"version":3,"sources":["housing-pano.js"],"names":["modules","installedModules","__webpack_require__","moduleId","exports","module","id","loaded","call","m","c","p","anim","root","DirectPano","show_pano","image","$","image_div_id","css","visibility","Annotation","annotation","annotation_angles","add_annotations","scene","children","length","add_listeners","Hotspot","hotspot","hotspots_angle","Transition","transition","pano","add_hotspots","animation","remove_pano","destroy","remove_listeners","destroy_hotspot","destroy_transition","destroy_annotation","this","onPointerDownLat","onPointerDownLon","onPointerDownPointerX","onPointerDownPointerY","on_key_down","on_key_up","on_mouse_down","on_mouse_move","on_mouse_up","on_mouse_wheel","touch_handler","event","first","simulatedEvent","touches","type","changedTouches","document","createEvent","initMouseEvent","window","screenX","screenY","clientX","clientY","target","dispatchEvent","preventDefault","container","intersects","vector","Config","current_lon","lon","target_lon","current_lat","lat","target_lat","isUserInteracting","THREE","Vector3","pano_div_id","set","outerWidth","outerHeight","unproject","camera","raycaster","position","sub","normalize","intersectObjects","object","name","start","hotspot_id","mouseSpeed","stop_time","Date","now","autoplay","wheelDeltaY","fov","wheelDelta","detail","Math","max","min","updateProjectionMatrix","keyPressed","near_id","keyCode","moving","front_nearest_hotspot","current_pano","back_nearest_hotspot","width","innerWidth","height","innerHeight","escape_fullscreen","on","click","focus","mousedown","mousemove","mouseup","mousewheel","originalEvent","DOMMouseScroll","touchstart","touchmove","touchend","keydown","keyup","off","hotspot_angles","path","clear_images","blur_images","blur_pano","Pano","clear_pano","create_pano","preload_images","prototype","save_clear_images","i","image_index","texture","Texture","texture_placeholder","Image","onload","needsUpdate","src","img_name","fpath","j","pano_id","error","hotspot_angle","old_pano_to_blur_pano","rotate_angle","find_rotation_angle","remove_hotspots","remove_annotations","bind","load_blur_pano","done","dfrd","dist","when","promise","Deferred","mesh","material","materials","map","dispose","get_texture","opacity","rotation","y","degToRad","x","cos","z","sin","apply","load_clear_pano","del","time","time1","TweenLite","to","ease","Power0","easeOut","delay","Expo","onComplete","check_new_pano_load","onCompleteParams","blur_pano_to_new_pano","complete","alter_moving","killTweensOf","destroy_pano","content","panoid","add_annotation","annotation_id","anno_id","div","prepend","append","find","_error","remove","update","angle","pos","rad_angle","project","removeAttr","font-family","load_texture","MeshBasicMaterial","overdraw","side","DoubleSide","depthTest","depthWrite","transparent","add_hotspot","hotspotId","geometry","text","text_to_show","v","PlaneBufferGeometry","Mesh","renderOrder","lookAt","deg_angle","html","add","resolve","num_hotspots","len","flag","near_angle","temp","abs","clone","display","left","top","transform","text-align","color","margin-left","pano_id1","is_blur","push","webgl","BoxGeometry","MeshFaceMaterial","scale","blending","AdditiveBlending","animate","duration","requestAnimationFrame","phi","theta","renderer","render","active","detect_webgl","go_fullscreen","init","is_fullscreen","Raycaster","setSize","aspect","initial_width","initial_height","canvas","e","WebGLRenderingContext","getContext","Scene","WebGLRenderer","CanvasRenderer","setPixelRatio","devicePixelRatio","domElement","PerspectiveCamera","len1","prop","resize"],"mappings":"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"}