{"version":3,"sources":["housing-pano.js"],"names":["modules","installedModules","__webpack_require__","moduleId","exports","module","id","loaded","call","m","c","p","anim","root","DirectPano","show_pano","Annotation","annotation","annotation_angles","add_annotations","update","scene","children","length","animation","add_listeners","Hotspot","hotspot","hotspots_angle","Transition","transition","pano_path","add_hotspots","remove_pano","destroy","remove_listeners","destroy_hotspot","destroy_transition","destroy_annotation","this","keyMax","keySpeed","onPointerDownLat","onPointerDownLon","onPointerDownPointerX","onPointerDownPointerY","on_key_down","on_key_up","on_mouse_down","on_mouse_move","on_mouse_up","on_mouse_wheel","touch_handler","event","first","simulatedEvent","touches","type","changedTouches","document","createEvent","initMouseEvent","window","screenX","screenY","clientX","clientY","target","dispatchEvent","preventDefault","container","intersects","vector","Config","isUserInteracting","lon","lat","THREE","Vector3","$","pano_div_id","set","outerWidth","outerHeight","unproject","camera","raycaster","position","sub","normalize","intersectObjects","object","name","start","hotspot_id","mouseSpeed","stop_time","Date","now","autoplay","wheelDeltaY","fov","wheelDelta","detail","Math","max","min","updateProjectionMatrix","keyPressed","near_id","keyCode","moving","front_nearest_hotspot","current_pano","back_nearest_hotspot","width","innerWidth","height","innerHeight","escape_fullscreen","on","click","focus","mousedown","mousemove","mouseup","mousewheel","originalEvent","DOMMouseScroll","touchstart","touchmove","touchend","keydown","keyup","off","path","hotspot_angles","clear_images","blur_images","blur_pano","Pano","clear_pano","create_pano","preload_images","prototype","save_clear_images","i","image","image_index","texture","Texture","texture_placeholder","Image","onload","needsUpdate","src","img_name","fpath","j","pano_id","dist","hotspot_angle","old_pano_to_blur_pano","rotate_angle","find_rotation_angle","remove_hotspots","remove_annotations","bind","load_blur_pano","done","dfrd","when","promise","Deferred","mesh","material","materials","map","dispose","get_texture","opacity","x","cos","degToRad","z","sin","apply","load_clear_pano","del","time","time1","TweenLite","to","ease","Power0","easeOut","delay","Expo","onComplete","check_new_pano_load","blur_pano_to_new_pano","complete","alter_moving","killTweensOf","destroy_pano","content","panoid","add_annotation","annotation_id","div","prepend","append","_error","remove","angle","pos","rad_angle","project","y","css","removeAttr","display","left","top","transform","requestAnimationFrame","load_texture","MeshBasicMaterial","overdraw","side","DoubleSide","blending","AdditiveBlending","depthTest","add_hotspot","hotspotId","geometry","text","text_to_show","v","PlaneBufferGeometry","Mesh","lookAt","hotspot_text","deg_angle","html","add","resolve","num_hotspots","len","flag","near_angle","temp","abs","clone","text-align","color","margin-left","pano_id1","is_blur","push","webgl","BoxGeometry","MeshFaceMaterial","scale","transparent","animate","duration","phi","rotate_camera","theta","renderer","render","active","detect_webgl","go_fullscreen","init","Raycaster","setSize","image_div_id","visibility","aspect","initial_width","initial_height","canvas","e","WebGLRenderingContext","getContext","Scene","WebGLRenderer","CanvasRenderer","setPixelRatio","devicePixelRatio","domElement","PerspectiveCamera","len1","prop"],"mappings":"CAAS,SAAUA,SAET,GAAIC,oBAGJ,SAASC,qBAAoBC,UAG5B,GAAGF,iBAAiBE,UACnB,MAAOF,kBAAiBE,UAAUC,OAGnC,IAAIC,QAASJ,iBAAiBE,WAC7BC,WACAE,GAAIH,SACJI,OAAQ,MAITP,SAAQG,UAAUK,KAAKH,OAAOD,QAASC,OAAQA,OAAOD,QAASF,oBAG/DG,QAAOE,OAAS,IAGhB,OAAOF,QAAOD,QAKfF,oBAAoBO,EAAIT,OAGxBE,qBAAoBQ,EAAIT,gBAGxBC,qBAAoBS,EAAI,EAGxB,OAAOT,qBAAoB,MAK/B,SAASG,OAAQD,QAASF,sBAG/B,WACE,GAAIU,MAAMC,IAEVA,UAAY,EAEZD,UAAY,EAEZE,YAAWC,UAAY,WACrBF,KAAOX,oBAAoB,EAC3BW,MAAKG,WAAa,GAAIH,MAAKI,WAAWH,WAAWI,kBACjDL,MAAKG,WAAWG,gBAAgB,EAChCN,MAAKG,WAAWI,QAChBP,MAAKQ,MAAMC,SAASC,OAAS,CAC7BX,MAAO,GAAIC,MAAKW,SAChBX,MAAKY,eACLZ,MAAKa,QAAU,GAAIb,MAAKc,QAAQb,WAAWc,eAC3Cf,MAAKgB,WAAa,GAAIhB,MAAKiB,WAAWhB,WAAWiB,UAAWjB,WAAWc,eACvEf,MAAKa,QAAQM,aAAa,EAC1BnB,MAAKa,QAAQN,SAGfN,YAAWmB,YAAc,WACvBrB,KAAKsB,QAAU,IACftB,MAAO,IACPC,MAAKsB,kBACLtB,MAAKa,QAAQU,iBACbvB,MAAKa,QAAU,IACfb,MAAKgB,WAAWQ,oBAChBxB,MAAKgB,WAAa,IAClBhB,MAAKG,WAAWsB,oBAChBzB,MAAKG,WAAa,IAClBH,MAAKqB,aAGN1B,KAAK+B,OAKH,SAASlC,OAAQD,QAASF,sBAG/B,WACE,GAAIuB,eAAee,OAAQC,SAAUC,iBAAkBC,iBAAkBC,sBAAuBC,sBAAuBC,YAAaC,UAAWC,cAAeC,cAAeC,YAAaC,eAAgBhB,iBAAkBtB,KAAMuC,aAElOvC,MAAOX,oBAAoB,EAE3B0C,2BAA6B,EAE7BC,2BAA6B,EAE7BF,sBAAwB,EAExBD,sBAAwB,EAExBF,QAAS,CAETC,UAAW,CAEXW,eAAgB,SAASC,OACvB,GAAIC,OAAOC,eAAgBC,QAASC,IACpCD,SAAUH,MAAMK,cAChBJ,OAAQE,QAAQ,EAChBC,MAAO,EACP,QAAQJ,MAAMI,MACZ,IAAK,aACHA,KAAO,WACP,MACF,KAAK,YACHA,KAAO,WACP,MACF,KAAK,WACHA,KAAO,SACP,MACF,SACE,OAEJF,eAAiBI,SAASC,YAAY,aACtCL,gBAAeM,eAAeJ,KAAM,KAAM,KAAMK,OAAQ,EAAGR,MAAMS,QAAST,MAAMU,QAASV,MAAMW,QAASX,MAAMY,QAAS,MAAO,MAAO,MAAO,MAAO,EAAG,KACtJZ,OAAMa,OAAOC,cAAcb,eAC3BF,OAAMgB,iBAGRrB,eAAgB,SAASK,OACvB,GAAIiB,WAAWC,WAAYC,MAC3BnB,OAAMgB,gBACNxD,MAAK4D,OAAOC,kBAAoB,IAChC9B,uBAAwBS,MAAMY,OAC9BpB,uBAAwBQ,MAAMa,OAC9BvB,kBAAmB9B,KAAK4D,OAAOE,GAC/BjC,kBAAmB7B,KAAK4D,OAAOG,GAC/BJ,QAAS,GAAIK,OAAMC,OACnBR,WAAYS,EAAE,IAAMjE,WAAWkE,YAC/BR,QAAOS,IAAI5B,MAAMY,QAAUK,UAAUY,aAAe,EAAI,IAAK7B,MAAMa,QAAUI,UAAUa,eAAiB,EAAI,EAAG,GAC/GX,QAAOY,UAAUvE,KAAKwE,OACtBxE,MAAKyE,UAAUL,IAAIpE,KAAKwE,OAAOE,SAAUf,OAAOgB,IAAI3E,KAAKwE,OAAOE,UAAUE,YAC1ElB,YAAa1D,KAAKyE,UAAUI,iBAAiB7E,KAAKQ,MAAMC,SAAU,KAClE,IAAIiD,WAAWhD,OAAS,GAAKgD,WAAW,GAAGoB,OAAOC,OAAS,UAAW,CACpE/E,KAAKgB,WAAWgE,MAAMtB,WAAW,GAAGoB,OAAOG,aAI/C7C,eAAgB,SAASI,OACvB,GAAI0C,WACJ,IAAIlF,KAAK4D,OAAOC,oBAAsB,KAAM,CAC1CqB,WAAa,EACblF,MAAK4D,OAAOE,KAAO/B,sBAAwBS,MAAMY,SAAW8B,WAAapD,gBACzE9B,MAAK4D,OAAOG,KAAOvB,MAAMa,QAAUrB,uBAAyBkD,WAAarD,kBAI7EQ,aAAc,SAASG,OACrBxC,KAAK4D,OAAOC,kBAAoB,KAChC7D,MAAK4D,OAAOuB,UAAYC,KAAKC,KAC7BrF,MAAK4D,OAAO0B,SAAW,MAGzBhD,gBAAiB,SAASE,OACxB,GAAIA,MAAM+C,YAAa,CACrBvF,KAAKwE,OAAOgB,KAAOhD,MAAM+C,YAAc,QAClC,IAAI/C,MAAMiD,WAAY,CAC3BzF,KAAKwE,OAAOgB,KAAOhD,MAAMiD,WAAa,QACjC,IAAIjD,MAAMkD,OAAQ,CACvB1F,KAAKwE,OAAOgB,KAAOhD,MAAMkD,OAAS,EAEpC1F,KAAKwE,OAAOgB,IAAMG,KAAKC,IAAI,GAAID,KAAKE,IAAI,GAAI7F,KAAKwE,OAAOgB,KACxDxF,MAAKwE,OAAOsB,yBAGd7D,aAAc,SAASO,OACrB,GAAIiB,WAAWsC,WAAYC,OAC3BA,aAAe,EACf,KAAKxD,MAAO,CACVA,MAAQS,OAAOT,MAEjBxC,KAAK4D,OAAOC,kBAAoB,IAChCkC,YAAavD,MAAMyD,OACnB,IAAIF,aAAe,GAAI,CACrB/F,KAAK4D,OAAOE,KAAOlC,aACd,IAAImE,aAAe,GAAI,CAC5B/F,KAAK4D,OAAOE,KAAOlC,aACd,IAAImE,aAAe,GAAI,CAC5B,GAAI/F,KAAKgB,WAAWkF,SAAW,MAAO,CACpCF,QAAUhG,KAAKa,QAAQsF,sBAAsBnG,KAAKgB,WAAWoF,aAC7D,IAAIJ,WAAa,EAAG,CAClBhG,KAAKgB,WAAWgE,MAAMgB,eAGrB,IAAID,aAAe,GAAI,CAC5B,GAAI/F,KAAKgB,WAAWkF,SAAW,MAAO,CACpCF,QAAUhG,KAAKa,QAAQwF,qBAAqBrG,KAAKgB,WAAWoF,aAC5D,IAAIJ,WAAa,EAAG,CAClBhG,KAAKgB,WAAWgE,MAAMgB,eAGrB,IAAID,aAAe,GAAI,CAC5BtC,UAAYS,EAAE,IAAMjE,WAAWkE,YAC/B,IAAIV,UAAU6C,UAAYrD,OAAOsD,YAAc9C,UAAU+C,WAAavD,OAAOwD,YAAa,CACxFzG,KAAK0G,qBAGT,GAAI1G,KAAK4D,OAAOC,oBAAsB,KAAM,CAC1C,GAAIjC,SAAWD,OAAQ,CACrBC,UAAY,IAKlBM,WAAY,SAASM,OACnBxC,KAAK4D,OAAOC,kBAAoB,KAChCjC,UAAW,CACX5B,MAAK4D,OAAOuB,UAAYC,KAAKC,KAC7BrF,MAAK4D,OAAO0B,SAAW,MAGzB1E,eAAgB,WACd,MAAOsD,GAAE,IAAMjE,WAAWkE,aAAawC,IACrCC,MAAO,SAASpE,OACd0B,EAAE,IAAMjE,WAAWkE,aAAa0C,SAElCC,UAAW,SAAStE,OAClBL,cAAcK,QAEhBuE,UAAW,SAASvE,OAClBJ,cAAcI,QAEhBwE,QAAS,SAASxE,OAChBH,YAAYG,QAEdyE,WAAY,SAASzE,OACnBF,eAAeE,MAAM0E,gBAEvBC,eAAgB,SAAS3E,OACvBF,eAAeE,MAAM0E,gBAEvBE,WAAY,SAAS5E,OACnBD,cAAcC,MAAM0E,gBAEtBG,UAAW,SAAS7E,OAClBD,cAAcC,MAAM0E,gBAEtBI,SAAU,SAAS9E,OACjBD,cAAcC,MAAM0E,gBAEtBK,QAAS,SAAS/E,OAChBP,YAAYO,QAEdgF,MAAO,SAAShF,OACdN,UAAUM,UAKhBlB,kBAAmB,WACjB4C,EAAE,IAAMjE,WAAWkE,aAAasD,MAGlCzH,MAAKY,cAAgBA,aAErBZ,MAAKsB,iBAAmBA,gBAExB9B,QAAOD,QAAUS,OAEhBL,KAAK+B,OAKH,SAASlC,OAAQD,QAASF,sBAG/B,WACE,GAAIW,MAAMiB,UAEVjB,MAAOX,oBAAoB,EAE3B4B,YAAa,WACX,QAASA,YAAWyG,KAAMC,gBACxBjG,KAAKgG,KAAOA,IACZhG,MAAK0E,aAAe,CACpB1E,MAAKwE,OAAS,KACdxE,MAAKiG,eAAiBA,cACtBjG,MAAKL,QAAU,KACfrB,MAAK4H,eACL5H,MAAK6H,cACL7H,MAAK4H,aAAalG,KAAK0E,gBACvBsB,MAAOA,MAAQhG,KAAK0E,aAAe,GAAK,UACxC1E,MAAKoG,UAAY,GAAI9H,MAAK+H,KAAK,EAAG,KAClCrG,MAAKsG,WAAa,GAAIhI,MAAK+H,KAAK,EAAG,MACnCrG,MAAKoG,UAAUG,YAAYP,KAAM,EACjChG,MAAKsG,WAAWC,YAAYP,KAAM,EAClChG,MAAKwG,gBACL,QAGFjH,WAAWkH,UAAUC,kBAAoB,WACvC,GAAIhC,cAAciC,EAAGX,IACrBtB,cAAe1E,KAAK0E,YACpBsB,MAAOhG,KAAKgG,IACZ,KAAK1H,KAAK4H,aAAaxB,cAAe,CACpCsB,KAAOA,MAAQtB,aAAe,GAAK,UACnCpG,MAAK4H,aAAaxB,gBAClBiC,GAAI,CACJ,OAAOA,EAAI,EAAG,EACZ,WACE,GAAIC,OAAOC,YAAaC,OACxBA,SAAU,GAAIxE,OAAMyE,QAAQzI,KAAK0I,oBACjCH,aAAcF,CACdC,OAAQ,GAAIK,MACZL,OAAMM,OAAS,WACbN,MAAMM,OAAS,IACfJ,SAAQF,MAAQ5G,IAChB8G,SAAQK,YAAc,IACtB7I,MAAK4H,aAAaxB,cAAcmC,aAAeD,MAEjDA,OAAMQ,IAAMpB,KAAO1H,KAAK4D,OAAOmF,SAASV,GAAK,UAE/CA,OAKNpH,YAAWkH,UAAUD,eAAiB,WACpC,GAAI9B,cAAcuB,eAAgBU,EAAGX,IACrCW,GAAI,CACJjC,cAAe1E,KAAK0E,YACpBuB,gBAAiBjG,KAAKiG,cACtBD,MAAOhG,KAAKgG,IACZ,OAAOW,EAAIV,eAAevB,cAAc1F,OAAQ,EAC9C,WACE,GAAIsI,OAAOC,EAAGC,OACdA,SAAUvB,eAAevB,cAAciC,GAAG,EAC1C,KAAKrI,KAAK6H,YAAYqB,SAAU,CAC9BlJ,KAAK6H,YAAYqB,WACjBF,OAAQtB,KAAO,SAAWwB,QAAU,GAAK,UACzCD,GAAI,CACJ,OAAOA,EAAI,EAAG,EACZ,WACE,GAAIX,OAAOC,YAAaC,OACxBA,SAAU,GAAIxE,OAAMyE,QAAQzI,KAAK0I,oBACjCH,aAAcU,CACdX,OAAQ,GAAIK,MACZL,OAAMM,OAAS,WACbN,MAAMM,OAAS,IACfJ,SAAQF,MAAQ5G,IAChB8G,SAAQK,YAAc,IACtB7I,MAAK6H,YAAYqB,SAASX,aAAeD,MAE3CA,OAAMQ,IAAME,MAAQhJ,KAAK4D,OAAOmF,SAASE,GAAK,UAEhDA,UAINZ,MAIJpH,YAAWkH,UAAUnD,MAAQ,SAASC,YACpC,GAAImB,cAAc+C,KAAMC,cAAeC,sBAAuBH,QAASI,YACvElD,cAAe1E,KAAK0E,YACpB8C,SAAUxH,KAAKiG,eAAevB,cAAcnB,YAAY,EACxDmE,eAAgB1H,KAAKiG,eAAevB,cAAcnB,YAAY,EAC9DkE,MAAOzH,KAAKiG,eAAevB,cAAcnB,YAAY,EACrDvD,MAAKwE,OAAS,IACdxE,MAAK0E,aAAe8C,OACpBxH,MAAK0G,mBACLkB,cAAe5H,KAAK6H,oBAAoBH,cACxCpJ,MAAKa,QAAQ2I,iBACbxJ,MAAKG,WAAWsJ,oBAChBJ,uBAAwB3H,KAAK2H,sBAAsBK,KAAKhI,KACxDA,MAAKwG,gBACLxG,MAAKiI,eAAeR,KAAMC,eAAeQ,KAAK,WAC5CP,sBAAsBF,KAAMC,cAAeE,gBAI/CrI,YAAWkH,UAAUoB,oBAAsB,SAASH,eAClD,GAAIE,aACJA,cAAeF,cAAgBpJ,KAAK4D,OAAOE,GAC3C,OAAOwF,aAAe,IAAK,CACzBA,aAAeA,aAAe,IAEhC,MAAOA,cAAgB,IAAK,CAC1BA,aAAeA,aAAe,IAEhC,GAAIA,aAAe,GAAI,CACrBA,cAAgBA,aAAe,KAAO,QACjC,IAAIA,cAAgB,GAAI,CAC7BA,cAAgBA,aAAe,KAAO,IAExCA,aAAeA,aAAetJ,KAAK4D,OAAOE,GAC1C,OAAOwF,cAGTrI,YAAWkH,UAAUwB,eAAiB,SAASR,KAAMC,eACnD,GAAIS,MAAMxB,EAAGX,IACb,IAAIhG,KAAKL,QAAS,CAChB,MAAO6C,GAAE4F,OAAOF,KAAK,cAAeG,UAEtCrC,KAAOhG,KAAKgG,KAAO,SAAWhG,KAAK0E,aAAe,GAAK,UACvDyD,QACAxB,GAAI,CACJ,OAAOA,EAAI,EAAG,CACZwB,KAAKxB,GAAKnE,EAAE8F,UACZ3B,KAEF3G,KAAKoG,UAAUoB,QAAUxH,KAAK0E,YAC9BiC,GAAI,CACJ,OAAOA,EAAI,EAAG,CACZ3G,KAAKoG,UAAUmC,KAAKC,SAASC,UAAU9B,GAAG+B,IAAIC,SAC9C3I,MAAKoG,UAAUmC,KAAKC,SAASC,UAAU9B,GAAG+B,IAAM1I,KAAKoG,UAAUwC,YAAY5I,KAAKwH,QAASxB,KAAO1H,KAAK4D,OAAOmF,SAASV,GAAK,OAAQwB,KAAKxB,GAAIA,EAC3I3G,MAAKoG,UAAUmC,KAAKC,SAASC,UAAU9B,GAAGkC,QAAU,CACpDlC,KAEF3G,KAAKoG,UAAUmC,KAAKvF,SAAS8F,EAAIrB,KAAOxD,KAAK8E,IAAIzG,MAAM2B,KAAK+E,SAAStB,eACrE1H,MAAKoG,UAAUmC,KAAKvF,SAASiG,EAAIxB,KAAOxD,KAAKiF,IAAI5G,MAAM2B,KAAK+E,SAAStB,eACrE,OAAOlF,GAAE4F,KAAKe,MAAM3G,EAAG2F,MAAMD,KAAK,cAAeG,UAGnD9I,YAAWkH,UAAU2C,gBAAkB,WACrC,GAAIjB,MAAMxB,EAAGX,IACb,IAAIhG,KAAKL,QAAS,CAChB,MAAO6C,GAAE4F,OAAOF,KAAK,cAAeG,UAEtCrC,KAAOhG,KAAKgG,MAAQhG,KAAK0E,aAAe,GAAK,UAC7CyD,QACAxB,GAAI,CACJ,OAAOA,EAAI,EAAG,CACZwB,KAAKxB,GAAKnE,EAAE8F,UACZ3B,KAEF3G,KAAKsG,WAAWkB,QAAUxH,KAAK0E,YAC/BiC,GAAI,CACJ,OAAOA,EAAI,EAAG,CACZ3G,KAAKsG,WAAWiC,KAAKC,SAASC,UAAU9B,GAAG+B,IAAIC,SAC/C3I,MAAKsG,WAAWiC,KAAKC,SAASC,UAAU9B,GAAG+B,IAAM1I,KAAKsG,WAAWsC,YAAY5I,KAAKwH,QAASxB,KAAO1H,KAAK4D,OAAOmF,SAASV,GAAK,OAAQwB,KAAKxB,GAAIA,EAC7I3G,MAAKsG,WAAWiC,KAAKC,SAASC,UAAU9B,GAAGkC,QAAU,CACrDlC,KAEF,MAAOnE,GAAE4F,KAAKe,MAAM3G,EAAG2F,MAAMD,KAAK,cAAeG,UAGnD9I,YAAWkH,UAAUkB,sBAAwB,SAASF,KAAMC,cAAeE,cACzE,GAAIxB,WAAWE,WAAY+C,IAAK1C,EAAG2C,KAAMC,KACzC,IAAIvJ,KAAKL,QAAS,CAChB,OAEF4J,MAAQ,EACRC,WAAUC,GAAGnL,KAAK4D,OAAQqH,OACxBnH,IAAKwF,aACLvF,IAAK,EACLqH,KAAMC,OAAOC,SAEfN,MAAO,CACPD,KAAM,EACNjD,WAAYpG,KAAKoG,SACjBE,YAAatG,KAAKsG,UAClBkD,WAAUC,GAAGrD,UAAUmC,KAAKvF,SAAUsG,MACpCR,EAAG,EACHG,EAAG,EACHY,MAAOR,IACPK,KAAMI,KAAKF,SAEbjD,GAAI,CACJ,OAAOA,EAAI,EAAG,CACZ6C,UAAUC,GAAGnD,WAAWiC,KAAKC,SAASC,UAAU9B,GAAI2C,MAClDT,QAAS,EACTgB,MAAOR,IACPK,KAAMI,KAAKF,SAEbJ,WAAUC,GAAGrD,UAAUmC,KAAKC,SAASC,UAAU9B,GAAI2C,MACjDT,QAAS,EACTgB,MAAOR,IACPK,KAAMI,KAAKF,SAEbjD,KAEF6C,UAAUC,GAAGnD,WAAWiC,KAAKvF,SAAUsG,MACrCR,GAAI,EAAIrB,KAAOxD,KAAK8E,IAAIzG,MAAM2B,KAAK+E,SAAStB,gBAC5CuB,GAAI,EAAIxB,KAAOxD,KAAKiF,IAAI5G,MAAM2B,KAAK+E,SAAStB,gBAC5CmC,MAAOR,IACPK,KAAMI,KAAKF,QACXG,WAAY/J,KAAKgK,oBAAoBhC,KAAKhI,QAI9CT,YAAWkH,UAAUuD,oBAAsB,WACzC,GAAIC,uBAAuBtD,CAC3B,IAAI3G,KAAKL,QAAS,CAChB,OAEFK,KAAKsG,WAAWiC,KAAKvF,SAAS8F,EAAI,CAClC9I,MAAKsG,WAAWiC,KAAKvF,SAASiG,EAAI,CAClCtC,GAAI,CACJ,OAAOA,EAAI,EAAG,CACZ3G,KAAKsG,WAAWiC,KAAKC,SAASC,UAAU9B,GAAGkC,QAAU,CACrD7I,MAAKsG,WAAWiC,KAAKC,SAASC,UAAU9B,GAAG+B,IAAIC,SAC/C3I,MAAKoG,UAAUmC,KAAKC,SAASC,UAAU9B,GAAGkC,QAAU,CACpDlC,KAEFsD,sBAAwBjK,KAAKiK,sBAAsBjC,KAAKhI,KACxDA,MAAKoJ,kBAAkBlB,KAAK,WAC1B+B,0BAIJ1K,YAAWkH,UAAUwD,sBAAwB,WAC3C,GAAI7D,WAAWE,WAAYK,EAAG2C,IAC9B,IAAItJ,KAAKL,QAAS,CAChB,OAEFyG,UAAYpG,KAAKoG,SACjBE,YAAatG,KAAKsG,UAClBgD,MAAO,EACP3C,GAAI,CACJ,OAAOA,EAAI,EAAG,CACZ6C,UAAUC,GAAGrD,UAAUmC,KAAKC,SAASC,UAAU9B,GAAI2C,MACjDT,QAAS,EACTa,KAAMC,OAAOC,SAEfjD,KAEFA,EAAI,CACJ,OAAOA,EAAI,EAAG,CACZ,GAAIA,IAAM,EAAG,CACX6C,UAAUC,GAAGnD,WAAWiC,KAAKC,SAASC,UAAU9B,GAAI2C,MAClDT,QAAS,EACTa,KAAMC,OAAOC,QACbG,WAAY/J,KAAKkK,SAASlC,KAAKhI,YAE5B,CACLwJ,UAAUC,GAAGnD,WAAWiC,KAAKC,SAASC,UAAU9B,GAAI2C,MAClDT,QAAS,EACTa,KAAMC,OAAOC,UAGjBjD,KAIJpH,YAAWkH,UAAU0D,aAAe,WAClC,MAAOnK,MAAKwE,OAAS,MAGvBjF,YAAWkH,UAAUyD,SAAW,WAC9B,GAAIC,cAAc3C,OAClB,IAAIxH,KAAKL,QAAS,CAChB,OAEF6H,QAAUxH,KAAK0E,YACfyF,cAAenK,KAAKmK,aAAanC,KAAKhI,KACtC1B,MAAKa,QAAQM,aAAa+H,SAASU,KAAK,WACtC5J,KAAKG,WAAWG,gBAAgB4I,QAChC2C,kBAIJ5K,YAAWkH,UAAU3G,mBAAqB,WACxC,GAAIsG,WAAWE,UACftG,MAAKL,QAAU,IACfyG,WAAYpG,KAAKoG,SACjBE,YAAatG,KAAKsG,UAClBkD,WAAUY,aAAahE,UACvBoD,WAAUY,aAAa9D,WACvBtG,MAAKoG,UAAUiE,cACfrK,MAAKsG,WAAW+D,cAChBrK,MAAKoG,UAAY,IACjBpG,MAAKsG,WAAa,KAGpB,OAAO/G,cAITjB,MAAKiB,WAAaA,UAElBzB,QAAOD,QAAUS,OAEhBL,KAAK+B,OAKH,SAASlC,OAAQD,QAASF,sBAG/B,WACE,GAAIe,YAAY0E,OAAQ9E,IAExBA,MAAOX,oBAAoB,EAE3ByF,YAAc,EAEd1E,YAAa,WACX,QAASA,YAAWC,kBAAmB2L,SACrCtK,KAAKrB,kBAAoBA,iBACzBqB,MAAKsK,QAAUA,OACftK,MAAKuK,WAAc,EACnBvK,MAAKhB,OAAS,CACdgB,MAAKL,QAAU,MAGjBjB,WAAW+H,UAAU+D,eAAiB,SAASC,eAC7C,GAAIC,IACJD,eAAgB,cAAgBA,aAChCC,KAAMlI,EAAE,eACNzE,GAAI0M,eAENC,KAAIC,QAAQ,6DACZD,KAAI9F,MAAM,IAAIE,OAAO,GACrBtC,GAAE,IAAMjE,WAAWkE,aAAamI,OAAOF,KAGzChM,YAAW+H,UAAU7H,gBAAkB,SAAS2L,QAC9C,GAAI5D,EACJ3G,MAAKuK,OAASA,MACd,KACEvK,KAAKhB,OAASgB,KAAKrB,kBAAkB4L,QAAQvL,MAC7C2H,GAAI,CACJ,OAAOA,EAAI3G,KAAKhB,OAAQ,CACtB,GAAIgB,KAAKL,QAAS,CAChBK,KAAK+H,oBACL,QAEF/H,KAAKwK,eAAe7D,EACpBA,MAEF,MAAOkE,QACP7K,KAAKhB,OAAS,CACd,SAIJN,YAAW+H,UAAUsB,mBAAqB,WACxC,GAAIpB,EACJA,GAAI,CACJ,OAAOA,EAAI3G,KAAKhB,OAAQ,CACtBwD,EAAE,eAAiBmE,GAAGmE,QACtBnE,MAIJjI,YAAW+H,UAAU1G,mBAAqB,WACxCC,KAAKL,QAAU,IACf,OAAOK,MAAK+H,qBAGdrJ,YAAW+H,UAAU5H,OAAS,WAC5B,GAAIkM,OAAON,cAAe1I,UAAW4E,EAAG4D,OAAQS,IAAKC,UAAWhJ,MAChE0E,GAAI,CACJ4D,QAASvK,KAAKuK,MACd,OAAO5D,EAAI3G,KAAKhB,OAAQ,CACtByL,cAAgB,eAAiB9D,CACjCjI,YAAa8D,EAAEiI,cACfM,OAAQ/K,KAAKrB,kBAAkB4L,QAAQ5D,GAAG,EAC1CsE,WAAY3I,MAAM2B,KAAK+E,SAAS+B,MAChC9I,QAAS,GAAIK,OAAMC,QAAQ,GAAK0B,KAAK8E,IAAIkC,YAAa,GAAI,GAAKhH,KAAKiF,IAAI+B,WACxEhJ,QAAO6G,GAAK,GAAK7E,KAAK8E,IAAIkC,UAC1BhJ,QAAOgH,GAAK,GAAKhF,KAAKiF,IAAI+B,UAC1BhJ,QAASA,OAAOiJ,QAAQ5M,KAAKwE,OAC7Bf,WAAYS,EAAE,IAAMjE,WAAWkE,YAC/BuI,MACElC,GAAI7G,OAAO6G,EAAI,GAAK,EAAI/G,UAAUY,aAClCwI,IAAKlJ,OAAOkJ,EAAI,GAAK,EAAIpJ,UAAUa,cAErC,IAAIlE,WAAY,CACd,GAAIuD,OAAO6G,EAAI,GAAK7G,OAAO6G,GAAK,GAAK7G,OAAOkJ,EAAI,GAAKlJ,OAAOkJ,GAAK,GAAKlJ,OAAOgH,EAAI,GAAKhH,OAAOgH,GAAK,EAAG,CACnG,GAAIzG,EAAEiI,eAAeW,IAAI,aAAe,OAAQ,CAC9C5I,EAAEiI,eAAeY,WAAW,QAC5B7I,GAAEiI,eAAeW,KACfE,QAAW,cAGV,CACL9I,EAAEiI,eAAeW,KACfE,QAAW,QACXC,KAAQ,QACRC,IAAO,MACPC,UAAa,eAAiBT,IAAIlC,EAAI,MAAQkC,IAAIG,EAAI,UACtDnI,SAAY,cAIlB2D,IAEF,IAAK3G,KAAKL,QAAS,CACjB+L,sBAAsB1L,KAAKnB,OAAOmJ,KAAKhI,QAI3C,OAAOtB,cAITJ,MAAKI,WAAaA,UAElBZ,QAAOD,QAAUS,OAEhBL,KAAK+B,OAKH,SAASlC,OAAQD,QAASF,sBAG/B,WACE,GAAIyB,SAASd,IAEbA,MAAOX,oBAAoB,EAE3ByB,SAAU,WACR,QAASA,SAAQ6G,gBACfjG,KAAKuK,WAAc,EACnBvK,MAAKiG,eAAiBA,cACtBjG,MAAKL,QAAU,MAGjBP,QAAQqH,UAAUkF,aAAe,WAC/B,GAAI/E,OAAO4B,SAAU1B,OACrBA,SAAU,GAAIxE,OAAMyE,QAAQxF,OAAOyF,oBACnCwB,UAAW,GAAIlG,OAAMsJ,mBACnBlD,IAAK5B,QACL+E,SAAU,EACVC,KAAMxJ,MAAMyJ,WACZC,SAAU1J,MAAM2J,iBAChBC,UAAW,OAEbtF,OAAQ,GAAIK,MACZL,OAAMM,OAAS,WACbN,MAAMM,OAAS,IACfJ,SAAQF,MAAQ5G,IAChB,OAAO8G,SAAQK,YAAc,KAE/BP,OAAMQ,IAAM,yBACZ,OAAOoB,UAGTpJ,SAAQqH,UAAU0F,YAAc,SAASpB,MAAOtD,KAAM2E,UAAWjE,MAC/D,GAAIpG,WAAWsK,SAAU7D,SAAU+B,OAAQU,UAAWqB,KAAMC,aAAcC,CAC1EH,UAAW,GAAI/J,OAAMmK,oBAAoB,GAAI,GAAI,GACjDjE,UAAWxI,KAAK2L,cAChBvM,SAAU,GAAIkD,OAAMoK,KAAKL,SAAU7D,SACnCyC,WAAY3I,MAAM2B,KAAK+E,SAAS+B,MAChC3L,SAAQ4D,SAAS8F,EAAIrB,KAAOxD,KAAK8E,IAAIkC,UACrC7L,SAAQ4D,SAASmI,GAAK,EACtB/L,SAAQ4D,SAASiG,EAAIxB,KAAOxD,KAAKiF,IAAI+B,UACrCuB,GAAI,GAAIlK,OAAMC,SAASnD,QAAQ4D,SAAS8F,EAAG,KAAM1J,QAAQ4D,SAASiG,EAClE7J,SAAQuN,OAAOH,EACfH,UAAW,GAAI/J,OAAMmK,oBAAoB,EAAG,EAAG,EAC/ClC,QAASvK,KAAKuK,MACdgC,cAAehO,WAAWqO,aAAa5M,KAAKiG,eAAesE,QAAQ6B,WAAW,GAC9EhN,SAAQmL,OAASvK,KAAKiG,eAAesE,QAAQ6B,WAAW,EACxDhN,SAAQyN,UAAY9B,KACpBhJ,WAAYS,EAAE,IAAMjE,WAAWkE,YAC/B6J,MAAO9J,EAAE,eACPzE,GAAI,WAAaiC,KAAKiG,eAAesE,QAAQ6B,WAAW,IAE1DE,MAAKQ,KAAKP,aACV/J,GAAE,IAAMjE,WAAWkE,aAAamI,OAAO0B,KACvClN,SAAQmE,WAAa6I,SACrBhN,SAAQiE,KAAO,SACf/E,MAAKQ,MAAMiO,IAAI3N,QACf+I,MAAK6E,UAGP5N,SAAQqH,UAAUhH,aAAe,SAAS8K,QACxC,GAAIpC,MAAMxB,EAAGsG,YACbjN,MAAKuK,OAASA,MACd0C,cAAejN,KAAKiG,eAAesE,QAAQvL,MAC3CmJ,QACAxB,GAAI,CACJ,OAAOA,EAAIsG,aAAc,CACvB9E,KAAKxB,GAAKnE,EAAE8F,UACZ3B,KAEFA,EAAI,CACJ,OAAOA,EAAIsG,aAAc,CACvB,GAAIjN,KAAKL,QAAS,CAChBK,KAAK8H,iBACL,QAEF9H,KAAKmM,YAAYnM,KAAKiG,eAAesE,QAAQ5D,GAAG,GAAI3G,KAAKiG,eAAesE,QAAQ5D,GAAG,GAAIA,EAAGwB,KAAKxB,GAC/FA,KAEF,MAAOnE,GAAE4F,KAAKe,MAAM3G,EAAG2F,MAAMD,KAAK,cAAeG,UAGnDjJ,SAAQqH,UAAUqB,gBAAkB,WAClC,GAAInB,GAAGuG,IAAK9J,OAAQhF,CACpB8O,KAAM5O,KAAKQ,MAAMC,SAASC,MAC1BZ,GAAI,CACJuI,GAAI,CACJ,OAAOA,EAAIuG,IAAK,CACd9J,OAAS9E,KAAKQ,MAAMC,SAASX,EAC7B,IAAIgF,OAAOC,OAAS,UAAW,CAC7BD,OAAOiJ,SAAS1D,SAChBvF,QAAOoF,SAASG,SAChBrK,MAAKQ,MAAMgM,OAAO1H,OAClBZ,GAAE,YAAcY,OAAOmH,QAAQO,aAC1B,CACL1M,GAAK,EAEPuI,KAIJvH,SAAQqH,UAAUhC,sBAAwB,SAAS8F,QACjD,GAAI4C,MAAMxG,EAAGvE,IAAKgL,WAAY9I,QAAS2I,aAAcI,IACrDJ,cAAejN,KAAKiG,eAAesE,QAAQvL,MAC3CsF,UAAW,CACX8I,gBAAkB,EAClBD,MAAO,KACPxG,GAAI,CACJ,OAAOA,EAAIsG,aAAc,CACvBI,KAAOrN,KAAKiG,eAAesE,QAAQ5D,GAAG,EACtCvE,MAAO9D,KAAK4D,OAAOE,IAAM,KAAO,GAChC,IAAIiL,KAAO,EAAG,CACZA,MAAQ,IAEV,GAAMjL,KAAO,IAAQA,KAAO,KAASiL,OAASjL,IAAM,IAAM,KAASiL,OAASjL,IAAM,GAAK,KAAO,KAAWA,KAAO,IAAQiL,MAAQ,GAAOA,MAAQjL,IAAM,IAAUA,KAAO,IAAQiL,OAASjL,IAAM,GAAK,KAAO,KAASiL,MAAQ,KAAWjL,KAAO,KAASiL,MAASjL,IAAM,IAASiL,MAAQ,KAAWjL,KAAO,KAASiL,MAAQ,GAAOA,OAASjL,IAAM,IAAM,IAAO,CACzV,GAAI+K,OAAS,OAAWlJ,KAAKqJ,IAAID,KAAOjL,KAAS6B,KAAKqJ,IAAIF,WAAahL,KAAQ,CAC7EgL,WAAaC,IACb/I,SAAUqC,CACVwG,MAAO,MAGXxG,IAEF,MAAOrC,SAGTlF,SAAQqH,UAAU9B,qBAAuB,SAAS4F,QAChD,GAAI4C,MAAMxG,EAAGvE,IAAKgL,WAAY9I,QAAS2I,aAAcI,IACrDJ,cAAejN,KAAKiG,eAAesE,QAAQvL,MAC3CsF,UAAW,CACX8I,gBAAkB,EAClBD,MAAO,KACPxG,GAAI,CACJ,OAAOA,EAAIsG,aAAc,CACvBI,KAAOrN,KAAKiG,eAAesE,QAAQ5D,GAAG,EACtCvE,MAAO9D,KAAK4D,OAAOE,IAAM,IAAM,KAAO,GACtC,IAAIiL,KAAO,EAAG,CACZA,MAAQ,IAEV,GAAMjL,KAAO,IAAQA,KAAO,KAASiL,OAASjL,IAAM,IAAM,KAASiL,OAASjL,IAAM,GAAK,KAAO,KAAWA,KAAO,IAAQiL,MAAQ,GAAOA,MAAQjL,IAAM,IAAUA,KAAO,IAAQiL,OAASjL,IAAM,GAAK,KAAO,KAASiL,MAAQ,KAAWjL,KAAO,KAASiL,MAASjL,IAAM,IAASiL,MAAQ,KAAWjL,KAAO,KAASiL,MAAQ,GAAOA,OAASjL,IAAM,IAAM,IAAO,CACzV,GAAI+K,OAAS,OAAWlJ,KAAKqJ,IAAID,KAAOjL,KAAS6B,KAAKqJ,IAAIF,WAAahL,KAAQ,CAC7EgL,WAAaC,IACb/I,SAAUqC,CACVwG,MAAO,MAGXxG,IAEF,MAAOrC,SAGTlF,SAAQqH,UAAU5G,gBAAkB,WAClCG,KAAKL,QAAU,IACf,OAAOK,MAAK8H,kBAGd1I,SAAQqH,UAAU5H,OAAS,WACzB,GAAIkD,WAAW4E,EAAGuG,IAAK9J,OAAQ4H,IAAKC,UAAWqB,KAAMrK,MACrDiL,KAAM5O,KAAKQ,MAAMC,SAASC,MAC1B2H,GAAI,CACJ,OAAOA,EAAIuG,IAAK,CACd9J,OAAS9E,KAAKQ,MAAMC,SAAS4H,EAC7B,IAAIvD,OAAOC,OAAS,UAAW,CAC7BiJ,KAAO9J,EAAE,YAAcY,OAAOmH,OAC9BtI,QAASmB,OAAOJ,SAASuK,OACzBtC,WAAY3I,MAAM2B,KAAK+E,SAAS5F,OAAOyJ,UAAY,EACnD5K,QAAO6G,GAAK,GAAK7E,KAAK8E,IAAIkC,UAC1BhJ,QAAOgH,GAAK,GAAKhF,KAAKiF,IAAI+B,UAC1BhJ,QAASA,OAAOiJ,QAAQ5M,KAAKwE,OAC7Bf,WAAYS,EAAE,IAAMjE,WAAWkE,YAC/BuI,MACElC,GAAI7G,OAAO6G,EAAI,GAAK,EAAI/G,UAAUY,aAClCwI,IAAKlJ,OAAOkJ,EAAI,GAAK,EAAIpJ,UAAUa,cAErC,IAAI0J,KAAM,CACR,GAAIrK,OAAO6G,EAAI,GAAK7G,OAAO6G,GAAK,GAAK7G,OAAOkJ,EAAI,GAAKlJ,OAAOkJ,GAAK,GAAKlJ,OAAOgH,EAAI,GAAKhH,OAAOgH,GAAK,EAAG,CACnG,GAAIzG,EAAE,YAAcY,OAAOmH,QAAQa,IAAI,aAAe,OAAQ,CAC5D5I,EAAE,YAAcY,OAAOmH,QAAQc,WAAW,QAC1C7I,GAAE,YAAcY,OAAOmH,QAAQa,KAC7BE,QAAW,cAGV,CACL9I,EAAE,YAAcY,OAAOmH,QAAQa,KAC7BE,QAAW,QACXC,KAAQ,QACRC,IAAO,MACPC,UAAa,eAAiBT,IAAIlC,EAAI,MAAQkC,IAAIG,EAAI,UACtDqC,aAAc,OACdC,MAAS,SACTzK,SAAY,WACZ0K,cAAe,YAKvB/G,IAEF,IAAK3G,KAAKL,QAAS,CACjB+L,sBAAsB1L,KAAKnB,OAAOmJ,KAAKhI,QAI3C,OAAOZ,WAITd,MAAKc,QAAUA,OAEftB,QAAOD,QAAUS,OAEhBL,KAAK+B,OAKH,SAASlC,OAAQD,QAASF,sBAG/B,WACE,GAAI0I,MAAM/H,IAEVA,MAAOX,oBAAoB,EAE3B0I,MAAO,WACL,QAASA,MAAKsH,SAAUC,SACtB5N,KAAKwH,QAAUmG,QACf3N,MAAK4N,QAAUA,OACf5N,MAAKqD,KAAO,UACZrD,MAAKL,QAAU,MAGjB0G,KAAKI,UAAUF,YAAc,SAASP,KAAM6C,SAC1C,GAAIwD,UAAU1F,EAAG8B,SACjBA,aACA9B,GAAI,CACJ,OAAOA,EAAI,EAAG,CACZ8B,UAAUoF,KAAK7N,KAAK2L,aAAa3F,KAAO1H,KAAK4D,OAAOmF,SAASV,GAAK,OAAQA,GAC1EA,KAEF0F,SAAW/N,KAAK4D,OAAO4L,MAAQ,GAAIxL,OAAMyL,YAAY,IAAK,IAAK,IAAK,EAAG,EAAG,GAAK,GAAIzL,OAAMyL,YAAY,IAAK,IAAK,IAAK,GAAI,GAAI,GAC5H/N,MAAKuI,KAAO,GAAIjG,OAAMoK,KAAKL,SAAU,GAAI/J,OAAM0L,iBAAiBvF,WAChEzI,MAAKuI,KAAK0F,MAAMnF,GAAK,CACrBnC,GAAI,CACJ,OAAOA,EAAI,EAAG,CACZ3G,KAAKuI,KAAKC,SAASC,UAAU9B,GAAGuH,YAAc,IAC9ClO,MAAKuI,KAAKC,SAASC,UAAU9B,GAAGkC,QAAUA,OAC1ClC,KAEFrI,KAAKQ,MAAMiO,IAAI/M,KAAKuI,MAGtBlC,MAAKI,UAAU4D,aAAe,WAC5B,GAAI1D,EACJ3G,MAAKL,QAAU,IACfrB,MAAKQ,MAAMgM,OAAO9K,KAAKuI,KACvB5B,GAAI,CACJ,OAAOA,EAAI,EAAG,CACZ3G,KAAKuI,KAAKC,SAASC,UAAU9B,GAAG+B,IAAIC,SACpC3I,MAAKuI,KAAKC,SAASC,UAAU9B,GAAGgC,SAChChC,KAEF,MAAO3G,MAAKuI,KAAK8D,SAAS1D,UAG5BtC,MAAKI,UAAUkF,aAAe,SAAS3F,KAAMa,aAC3C,GAAID,OAAO4B,SAAUhB,QAASV,OAC9BA,SAAU,GAAIxE,OAAMyE,QAAQzI,KAAK0I,oBACjCwB,UAAW,GAAIlG,OAAMsJ,mBACnBlD,IAAK5B,QACL+E,SAAU,EACVC,KAAMxJ,MAAMyJ,WACZC,SAAU1J,MAAM2J,iBAChBC,UAAW,OAEb1E,SAAUxH,KAAKwH,OACfZ,OAAQ,GAAIK,MACZL,OAAMM,OAAS,WACbN,MAAMM,OAAS,IACfJ,SAAQF,MAAQ5G,IAChB8G,SAAQK,YAAc,IACtB7I,MAAK4H,aAAasB,SAASX,aAAeD,MAE5CA,OAAMQ,IAAMpB,IACZ,OAAOwC,UAGTnC,MAAKI,UAAUmC,YAAc,SAAS2B,OAAQvE,KAAMmC,KAAMtB,aACxD,GAAIsG,MAAMvG,MAAOE,OACjBqG,MAAO,KACPrG,SAAU,GAAIxE,OAAMyE,QAAQzI,KAAK0I,oBACjCuD,QAASvK,KAAKwH,OACd,IAAIlJ,KAAK4H,aAAaqE,QAAQ1D,aAAc,CAC1CsG,KAAO,IACPrG,SAAQF,MAAQtI,KAAK4H,aAAaqE,QAAQ1D,YAC1CC,SAAQK,YAAc,IACtBgB,MAAK6E,SACL,OAAOlG,SAET,GAAI9G,KAAK4N,UAAY,MAAQtP,KAAK6H,YAAYoE,QAAQ1D,aAAc,CAClEsG,KAAO,IACPrG,SAAQF,MAAQtI,KAAK6H,YAAYoE,QAAQ1D,YACzCC,SAAQK,YAAc,IACtBgB,MAAK6E,SACL,OAAOlG,SAETF,MAAQ,GAAIK,MACZL,OAAMM,OAAS,WACbJ,QAAQF,MAAQ5G,IAChB8G,SAAQK,YAAc,IACtBgB,MAAK6E,UAEPpG,OAAMQ,IAAMpB,IACZ,OAAOc,SAGT,OAAOT,QAIT/H,MAAK+H,KAAOA,IAEZvI,QAAOD,QAAUS,OAEhBL,KAAK+B,OAKH,SAASlC,OAAQD,QAASF,sBAG/B,WACE,GAAIsB,WAAWX,IAEfA,MAAOX,oBAAoB,EAE3BsB,WAAY,WACV,QAASA,aACPe,KAAKL,QAAU,KACfK,MAAKmO,UAGPlP,UAAUwH,UAAU0H,QAAU,WAC5B,IAAKnO,KAAKL,QAAS,CACjB+L,sBAAsB1L,KAAKmO,QAAQnG,KAAKhI,MACxCA,MAAKnB,UAITI,WAAUwH,UAAU5H,OAAS,WAC3B,GAAIuP,UAAUC,IAAKC,cAAeC,KAClC,IAAIjQ,KAAK4D,OAAOC,oBAAsB,OAAS7D,KAAK4D,OAAO0B,WAAa,KAAM,CAC5EtF,KAAK4D,OAAOE,KAAO,OACd,IAAI9D,KAAK4D,OAAOC,oBAAsB,MAAO,CAClDiM,SAAW1K,KAAKC,MAAQrF,KAAK4D,OAAOuB,SACpC,IAAI2K,SAAW,IAAM,CACnB9P,KAAK4D,OAAO0B,SAAW,IACvB0K,eAAgB,SAAShF,KAAMjH,KAC7B,GAAI/D,KAAK4D,OAAOC,oBAAsB,KAAM,CAC1C,OAEFiM,SAAW1K,KAAKC,MAAQ2F,IACxB,IAAI8E,SAAW,IAAM,CACnB9P,KAAK4D,OAAOG,IAAMA,IAAOA,IAAM+L,SAAW,GAC1C,OAAO1C,uBAAsB,WAC3B4C,cAAchF,KAAMjH,WAEjB,CACL/D,KAAK4D,OAAOG,IAAM,GAGtBiM,eAAc5K,KAAKC,MAAOrF,KAAK4D,OAAOG,MAG1C/D,KAAK4D,OAAOE,KAAO9D,KAAK4D,OAAOE,IAAM,KAAO,GAC5C9D,MAAK4D,OAAOG,IAAM4B,KAAKC,KAAK,GAAID,KAAKE,IAAI,GAAI7F,KAAK4D,OAAOG,KACzDgM,KAAM/L,MAAM2B,KAAK+E,SAAS,GAAK1K,KAAK4D,OAAOG,IAC3CkM,OAAQjM,MAAM2B,KAAK+E,SAAS1K,KAAK4D,OAAOE,IACxC9D,MAAKwE,OAAOlB,OAAOkH,EAAI,IAAM7E,KAAKiF,IAAImF,KAAOpK,KAAK8E,IAAIwF,MACtDjQ,MAAKwE,OAAOlB,OAAOuJ,EAAI,IAAMlH,KAAK8E,IAAIsF,IACtC/P,MAAKwE,OAAOlB,OAAOqH,EAAI,IAAMhF,KAAKiF,IAAImF,KAAOpK,KAAKiF,IAAIqF,MACtDjQ,MAAKwE,OAAO6J,OAAOrO,KAAKwE,OAAOlB,OAC/BtD,MAAKkQ,SAASC,OAAOnQ,KAAKQ,MAAOR,KAAKwE,QAGxC,OAAO7D,aAITX,MAAKW,UAAYA,SAEjBnB,QAAOD,QAAUS,OAEhBL,KAAK+B,OAKH,SAASlC,OAAQD,UAGtB,WACE,GAAIqE,QAAQwM,OAAQvI,YAAarD,OAAQoD,aAAcvG,QAASgP,aAAc3J,kBAAmB4J,cAAeC,KAAM9L,UAAWyL,SAAUlQ,KAAMQ,MAAOkI,mBAExJ1I,QAEAwE,YAAc,EAEdhE,WAAa,EAEb0P,cAAgB,EAEhBxH,yBAA2B,EAE3BjE,WAAY,GAAIT,OAAMwM,SAEtB3I,eAEAD,gBAEAwI,YAAc,EAEdxM,SACEmF,UAAW,IAAK,IAAK,IAAK,IAAK,IAAK,KACpClF,kBAAmB,MACnBC,IAAK,EACLC,IAAK,EACLoB,cAAgB,GAChBG,SAAU,KACVkK,MAAO,KAGTc,eAAgB,WACd,GAAI7M,WAAW6E,KACf7E,WAAYS,EAAE,IAAMjE,WAAWkE,YAC/BV,WAAU6C,MAAMrD,OAAOsD,WAAa,MAAMC,OAAOvD,OAAOwD,YAAc,KACtEyJ,UAASO,QAAQhN,UAAUY,aAAcZ,UAAUa,cACnDgE,OAAQpE,EAAE,IAAMjE,WAAWyQ,aAC3BpI,OAAMwE,KACJ6D,WAAc,UAEhBnM,QAAOoM,OAASnN,UAAUY,aAAeZ,UAAUa,aACnDE,QAAOsB,yBAGTY,mBAAoB,WAClB,GAAIjD,WAAW6E,KACf7E,WAAYS,EAAE,IAAMjE,WAAWkE,YAC/BV,WAAU6C,MAAMrG,WAAW4Q,cAAgB,MAAMrK,OAAOvG,WAAW6Q,eAAiB,KACpFZ,UAASO,QAAQhN,UAAUY,aAAcZ,UAAUa,cACnDgE,OAAQpE,EAAE,IAAMjE,WAAWyQ,aAC3BpI,OAAMwE,KACJ6D,WAAc,WAEhBnM,QAAOoM,OAASnN,UAAUY,aAAeZ,UAAUa,aACnDE,QAAOsB,yBAGTuK,cAAe,WACb,GAAIU,QAAQC,CACZ,KACED,OAAS7M,EAAE,YACX,UAAUjB,OAAOgO,wBAA0BF,OAAO,GAAGG,WAAW,UAAYH,OAAO,GAAGG,WAAW,wBACjG,MAAO3E,QACPyE,EAAIzE,MACJ3I,QAAO4L,MAAQ,KACf,OAAO,QAIXe,MAAO,WACL,GAAI9M,UACJA,WAAYS,EAAE,IAAMjE,WAAWkE,YAC/B3D,OAAQ,GAAIwD,OAAMmN,KAClBzI,qBAAsBxE,EAAE,aAAaoC,MAAM,KAAKE,OAAO,IACvD0J,UAAWG,eAAiB,GAAIrM,OAAMoN,cAAgB,GAAIpN,OAAMqN,cAChEnB,UAASoB,cAAcrO,OAAOsO,iBAC9B9N,WAAU6I,OAAO4D,SAASsB,WAC1BtB,UAASO,QAAQhN,UAAUY,aAAcZ,UAAUa,cACnDE,QAAS,GAAIR,OAAMyN,kBAAkB,GAAIhO,UAAUY,aAAeZ,UAAUa,cAAe,EAAG,KAC9FE,QAAOlB,OAAS,GAAIU,OAAMC,QAAQ,EAAG,EAAG,EACxCC,GAAE,IAAMjE,WAAWyQ,cAAc9J,MAAM,WACrC0J,kBAIJjP,SAAU,SAASwI,MACjB,GAAIxB,GAAGY,EAAG2F,IAAK8C,KAAMC,IACrB3R,MAAKa,YAAe,EACpB,KAAKwH,EAAI,EAAGuG,IAAMhH,aAAalH,OAAQ2H,EAAIuG,IAAKvG,IAAK,CACnDsJ,KAAO/J,aAAaS,EACpBT,cAAa+J,MAAQ,KAEvB,IAAK1I,EAAI,EAAGyI,KAAO7J,YAAYnH,OAAQuI,EAAIyI,KAAMzI,IAAK,CACpD0I,KAAO9J,YAAYoB,EACnBpB,aAAY8J,MAAQ,KAEtB/J,eACAC,eACAjE,QAAOE,IAAM,CACbF,QAAOG,IAAM,CACbH,QAAOuB,cAAiB,EACxBvB,QAAO0B,SAAW,KAGpBiL,OAEAvQ,MAAKqB,QAAUA,OAEfrB,MAAK4D,OAASA,MAEd5D,MAAKwE,OAASA,MAEdxE,MAAKQ,MAAQA,KAEbR,MAAKkQ,SAAWA,QAEhBlQ,MAAK6H,YAAcA,WAEnB7H,MAAK4H,aAAeA,YAEpB5H,MAAK0I,oBAAsBA,mBAE3B1I,MAAKyE,UAAYA,SAEjBzE,MAAK0G,kBAAoBA,iBAEzBlH,QAAOD,QAAUS,OAEhBL,KAAK+B"}